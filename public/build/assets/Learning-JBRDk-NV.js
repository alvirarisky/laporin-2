import{r as a,j as e,S as u,x as p}from"./app-Bp8Vsr9d.js";import{A as h}from"./AuthenticatedLayout-3zESAaSL.js";import"./transition-Dvzxzlrk.js";function j({auth:l,game:i,material:t}){const[s,d]=a.useState(t.min_read_seconds),[n,c]=a.useState(!1);a.useEffect(()=>{if(s>0){const r=setTimeout(()=>d(s-1),1e3);return()=>clearTimeout(r)}else c(!0)},[s]);const x=r=>{if(!r)return null;const m=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,o=r.match(m);return o&&o[2].length===11?`https://www.youtube.com/embed/${o[2]}`:r};return e.jsxs(h,{user:l.user,header:e.jsxs("h2",{className:"font-bold text-xl text-zinc-100",children:["Mission Briefing: ",i.title]}),children:[e.jsx(u,{title:`Belajar - ${i.title}`}),e.jsx("div",{className:"py-8 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-[#18181b] border border-zinc-700 rounded-2xl overflow-hidden shadow-2xl relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-600/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),e.jsxs("div",{className:"p-8 relative z-10",children:[e.jsxs("div",{className:"border-b border-zinc-700 pb-6 mb-6",children:[e.jsx("span",{className:"text-xs font-mono text-indigo-400 bg-indigo-500/10 px-2 py-1 rounded border border-indigo-500/20",children:"PHASE 1: KNOWLEDGE UPLOAD"}),e.jsx("h1",{className:"text-3xl font-black text-white mt-3 uppercase tracking-wide",children:t.title})]}),t.video_url&&e.jsx("div",{className:"aspect-video w-full bg-black rounded-xl overflow-hidden border border-zinc-700 mb-8 shadow-lg",children:e.jsx("iframe",{src:x(t.video_url),className:"w-full h-full",title:"Learning Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),e.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-zinc-300 leading-relaxed",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})})]}),e.jsxs("div",{className:"bg-zinc-900/50 p-6 border-t border-zinc-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:n?e.jsxs("p",{className:"text-emerald-400 text-sm font-mono flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Materi Selesai. Akses dibuka!"]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"}),e.jsxs("p",{className:"text-zinc-400 text-sm font-mono",children:["Wajib baca: ",e.jsx("span",{className:"text-white font-bold",children:s})," detik lagi..."]})]})}),e.jsx(p,{href:route("questify.show",i.slug),as:"button",disabled:!n,className:`px-8 py-3 rounded-full font-black tracking-wider transition-all transform duration-300 flex items-center gap-2 ${n?"bg-gradient-to-r from-indigo-600 to-purple-600 hover:scale-105 text-white shadow-[0_0_20px_rgba(79,70,229,0.5)] cursor-pointer":"bg-zinc-800 text-zinc-600 cursor-not-allowed border border-zinc-700 grayscale"}`,children:n?e.jsx(e.Fragment,{children:"START MISSION ðŸš€"}):e.jsx(e.Fragment,{children:"LOCKED ðŸ”’"})})]})]})})]})}export{j as default};
