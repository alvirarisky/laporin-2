import{j as e,r as m,G as b,S as g,x as j,a as f}from"./app-CcNMjsvK.js";import{A as N}from"./AuthenticatedLayout-BLGgl2Cn.js";import"./transition-0YHYq-iH.js";const v=({text:s,isCompleted:l})=>e.jsxs("li",{className:`flex items-center transition-all duration-300 ${l?"text-green-600":"text-gray-500"}`,children:[e.jsx("span",{className:`mr-3 h-5 w-5 rounded-full flex items-center justify-center ${l?"bg-green-500 text-white":"border-2 border-gray-400"}`,children:l&&"âœ”"}),e.jsx("span",{className:l?"line-through":"",children:s})]});function k({formData:s}){const l=[{text:"Isi Judul & Identitas",completed:s&&s.judul.trim()!==""&&s.nama.trim()!==""},{text:"Lengkapi Detail Akademik",completed:s&&s.prodi.trim()!==""&&s.mata_kuliah.trim()!==""},{text:"Tentukan Detail Institusi",completed:s&&s.instansi.trim()!==""&&s.kota.trim()!==""},{text:"Upload Logo",completed:s&&s.logo!==null}],a=l.filter(i=>i.completed).length/l.length*100;return e.jsxs("div",{className:"sticky top-24 p-6 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ðŸ“œ Quest Laporan"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${a}%`}})}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Selesaikan semua misi untuk melanjutkan ke tahap berikutnya!"}),e.jsx("ul",{className:"space-y-4",children:l.map((i,o)=>e.jsx(v,{text:i.text,isCompleted:i.completed},o))}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx("img",{src:"/images/chibi-default.png",alt:"Chibi",className:"mx-auto h-24"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Chibi menemanimu!"})]})]})}const r={ArrowLeft:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Save:()=>e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),Upload:()=>e.jsx("svg",{className:"w-8 h-8 text-zinc-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),Eye:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Close:()=>e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Sparkles:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})},w=({data:s,onClose:l})=>{const n=s.logo?URL.createObjectURL(s.logo):null;return e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"relative w-full max-w-2xl h-[90vh] bg-zinc-900 rounded-2xl shadow-2xl flex flex-col border border-zinc-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“„"})," Pratinjau Cover"]}),e.jsx("button",{onClick:l,className:"text-zinc-400 hover:text-white transition",children:e.jsx(r.Close,{})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-800/50 flex justify-center",children:e.jsxs("div",{className:"w-[210mm] min-h-[297mm] bg-white text-black p-[2.54cm] shadow-xl origin-top scale-75 sm:scale-90 lg:scale-100 transition-transform duration-300 flex flex-col items-center text-center font-serif leading-relaxed",children:[e.jsxs("div",{className:"mb-14 w-full",children:[e.jsx("h1",{className:"text-xl font-bold uppercase mb-2",children:s.judul||"JUDUL LAPORAN"}),e.jsx("h2",{className:"text-lg font-bold uppercase",children:s.report_type||"JENIS LAPORAN"})]}),e.jsx("div",{className:"mb-14 flex-1 flex items-center justify-center w-full",children:n?e.jsx("img",{src:n,alt:"Logo",className:"w-32 h-32 object-contain"}):e.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-400 text-xs text-center px-4",children:"Logo Institusi Akan Muncul Di Sini"})}),e.jsxs("div",{className:"mb-12 w-full",children:[e.jsx("p",{className:"text-md mb-2",children:"Disusun Oleh:"}),e.jsx("p",{className:"text-lg font-bold uppercase",children:s.nama||"Nama Mahasiswa"}),e.jsx("p",{className:"text-lg font-bold",children:s.nim||"NIM"})]}),e.jsxs("div",{className:"mb-12 w-full",children:[e.jsx("p",{className:"text-md mb-2",children:"Dosen Pengampu:"}),e.jsx("p",{className:"text-lg font-bold uppercase",children:s.dosen_pembimbing||"Nama Dosen"})]}),e.jsxs("div",{className:"mt-auto w-full",children:[e.jsx("p",{className:"text-lg font-bold uppercase",children:s.prodi||"PROGRAM STUDI"}),e.jsx("p",{className:"text-lg font-bold uppercase",children:s.instansi||"INSTITUSI / KAMPUS"}),e.jsx("p",{className:"text-lg font-bold uppercase",children:s.kota||"KOTA"}),e.jsx("p",{className:"text-lg font-bold uppercase",children:s.tahun_ajaran||"TAHUN"})]})]})}),e.jsx("div",{className:"p-4 border-t border-zinc-700 bg-zinc-900 rounded-b-2xl",children:e.jsx("p",{className:"text-xs text-center text-zinc-500",children:"*Ini hanya pratinjau kasar. Hasil akhir (DOCX/PDF) akan lebih rapi sesuai format resmi."})})]})})};function C({auth:s}){const[l,n]=m.useState(!1),{data:a,setData:i,post:o,processing:d,errors:c}=b({report_type:"Makalah",tahun_ajaran:"2025/2026",judul:"",instansi:"",nama:s.user.name||"",nim:"",prodi:"",kota:"",mata_kuliah:"",dosen_pembimbing:"",logo_position:"tengah",logo:null,sections:[{title:"Pendahuluan",content:""}]}),[u,x]=m.useState(!1),h=async()=>{if(!a.mata_kuliah){alert("Isi dulu Mata Kuliah-nya biar AI ada konteks, bray!");return}n(!0);try{const t=await f.post(route("ai.generate"),{prompt:`Tolong buatkan 1 judul laporan ${a.report_type} yang keren dan formal untuk mata kuliah ${a.mata_kuliah}. Langsung berikan judulnya saja.`});i("judul",t.data.result.replace(/"/g,""))}catch(t){console.error(t),alert("Aduhhh AI-nya lagi pusing bray.")}finally{n(!1)}},p=t=>{t.preventDefault(),o(route("laporan.store"))};return e.jsxs(N,{user:s.user,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"font-bold text-2xl text-white leading-tight flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“"})," Buat Laporan Baru"]}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Isi detail di bawah untuk generate struktur laporan otomatis."})]}),e.jsxs(j,{href:route("dashboard"),className:"flex items-center gap-2 text-sm font-medium text-zinc-500 hover:text-white transition-colors",children:[e.jsx(r.ArrowLeft,{})," Kembali ke Dashboard"]})]}),children:[e.jsx(g,{title:"Buat Laporan Baru"}),u&&e.jsx(w,{data:a,onClose:()=>x(!1)}),e.jsx("div",{className:"py-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsxs("div",{className:"bg-[#18181b] p-6 sm:p-8 rounded-2xl border border-zinc-800 shadow-xl transition-all hover:border-zinc-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-white border-b border-zinc-800 pb-4 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-indigo-500/10 text-indigo-400 border border-indigo-500/20 w-8 h-8 flex items-center justify-center rounded-lg text-sm font-bold",children:"1"}),"Informasi Dasar"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"Jenis Laporan"}),e.jsxs("select",{value:a.report_type,onChange:t=>i("report_type",t.target.value),className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",children:[e.jsx("option",{value:"Makalah",children:"Makalah"}),e.jsx("option",{value:"Proposal",children:"Proposal"}),e.jsx("option",{value:"Laporan Praktikum",children:"Laporan Praktikum"}),e.jsx("option",{value:"Studi Kasus",children:"Studi Kasus"}),e.jsx("option",{value:"Skripsi",children:"Skripsi"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"Tahun Ajaran"}),e.jsx("input",{type:"text",value:a.tahun_ajaran,onChange:t=>i("tahun_ajaran",t.target.value),placeholder:"Contoh: 2024/2025",className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"Mata Kuliah / Topik"}),e.jsx("input",{type:"text",value:a.mata_kuliah,onChange:t=>i("mata_kuliah",t.target.value),placeholder:"Misal: Pemrograman Web",className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Judul Laporan"}),e.jsxs("button",{type:"button",onClick:h,disabled:l,className:"text-[10px] flex items-center gap-1.5 px-2 py-1 bg-indigo-500/10 text-indigo-400 border border-indigo-500/20 rounded-md hover:bg-indigo-500/20 transition-all uppercase tracking-wider font-bold",children:[e.jsx(r.Sparkles,{})," ",l?"Mikir...":"Bikin Judul pakai AI"]})]}),e.jsx("input",{type:"text",value:a.judul,onChange:t=>i("judul",t.target.value),placeholder:"Masukkan judul lengkap laporan...",className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white focus:border-indigo-500 focus:ring-indigo-500 shadow-sm placeholder:text-zinc-600 font-medium"}),c.judul&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:c.judul})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"Nama Institusi / Kampus"}),e.jsx("input",{type:"text",value:a.instansi,onChange:t=>i("instansi",t.target.value),placeholder:"Contoh: Universitas Telkom",className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"})]})]})]}),e.jsxs("div",{className:"bg-[#18181b] p-6 sm:p-8 rounded-2xl border border-zinc-800 shadow-xl transition-all hover:border-zinc-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-white border-b border-zinc-800 pb-4 mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"bg-indigo-500/10 text-indigo-400 border border-indigo-500/20 w-8 h-8 flex items-center justify-center rounded-lg text-sm font-bold",children:"2"}),"Detail Akademik"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"Nama Penulis"}),e.jsx("input",{type:"text",value:a.nama,onChange:t=>i("nama",t.target.value),className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"NIM / NISN"}),e.jsx("input",{type:"text",value:a.nim,onChange:t=>i("nim",t.target.value),className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"Program Studi / Jurusan"}),e.jsx("input",{type:"text",value:a.prodi,onChange:t=>i("prodi",t.target.value),className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"Kota Domisili Kampus"}),e.jsx("input",{type:"text",value:a.kota,onChange:t=>i("kota",t.target.value),className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white shadow-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:"Dosen Pengampu / Pembimbing"}),e.jsx("input",{type:"text",value:a.dosen_pembimbing,onChange:t=>i("dosen_pembimbing",t.target.value),className:"w-full rounded-xl bg-zinc-900 border-zinc-700 text-white shadow-sm"})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[e.jsx(k,{formData:a}),e.jsxs("div",{className:"bg-[#18181b] p-6 rounded-2xl border border-zinc-800 shadow-xl",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Logo Institusi"}),e.jsx("div",{className:"mb-4 text-xs text-zinc-500 leading-relaxed bg-zinc-900/50 p-3 rounded-lg border border-zinc-800 italic",children:"*Pastikan logo berformat PNG transparan agar cover terlihat profesional."}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-zinc-700 border-dashed rounded-xl cursor-pointer bg-zinc-900/50 hover:bg-zinc-800 hover:border-indigo-500 transition-all group",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(r.Upload,{}),e.jsxs("p",{className:"mb-2 text-sm text-zinc-400 group-hover:text-white transition-colors",children:[e.jsx("span",{className:"font-semibold",children:"Klik upload"})," logo"]})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:t=>i("logo",t.target.files[0])})]}),a.logo&&e.jsxs("p",{className:"mt-2 text-xs text-emerald-400 font-medium text-center",children:["âœ“ ",a.logo.name]})]})]}),e.jsxs("div",{className:"bg-[#18181b] p-6 shadow-xl border border-zinc-800 rounded-2xl lg:sticky lg:top-24",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest mb-4 border-b border-zinc-800 pb-2",children:"Opsi Final"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{type:"button",onClick:()=>x(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-zinc-800 border border-zinc-700 text-zinc-300 font-bold rounded-xl hover:bg-zinc-700 hover:text-white transition-all shadow-sm",children:[e.jsx(r.Eye,{})," Pratinjau Cover"]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-500 shadow-lg shadow-indigo-500/20 transition-all disabled:opacity-50",children:d?"Menyimpan...":e.jsxs(e.Fragment,{children:[e.jsx(r.Save,{})," Simpan & Lanjut"]})})]})]})]})]})})})]})}export{C as default};
